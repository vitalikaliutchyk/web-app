<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Учёт автомобилей</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>

<header class="app-header">
    <h1>Учёт автомобилей</h1>
</header>    

<div class="container">
    <!-- Блок статистики -->
    <div class="stats">
        <div class="stat-item">
            <span>Авто сегодня:</span>
            <span id="total-cars">0</span>
        </div>
        <div class="stat-item">
            <span>Часы сегодня:</span>
            <span id="total-hours">0.0</span>
        </div>
    </div>

    <form id="car-form">
        <label>
            Тип идентификатора:
            <select id="identifier-type">
                <option value="reg">Гос. номер</option>
                <option value="vin">VIN (последние 4 цифры)</option>
            </select>
        </label>

        <label for="identifier-input">Введите идентификатор:</label>
        <input type="text" id="identifier-input" placeholder="Введите номер авто или VIN" required>

        <label for="hours">Нормо-часы:</label>
        <input type="number" id="hours" min="0" step="0.1" placeholder="Введите количество норма-часов" required>

        <button type="submit">Добавить запись</button>
    </form>

    <button id="toggle-table">Показать/Скрыть таблицу</button>
    <div id="table-container" class="hidden">
        <h2>Список автомобилей</h2>
        <table id="car-table">
            <thead>
                <tr>
                    <th>Идентификатор</th>
                    <th>Дата</th>
                    <th>Часы</th>
                    <th>Действия</th>
                </tr>
            </thead>
            <tbody></tbody>
        </table>
    </div>

    <button id="toggle-saved-days-table">Показать/Скрыть историю</button>
    <div id="saved-hours-container" class="hidden">
        <h2>История дней</h2>
        <table id="saved-hours-table">
            <thead>
                <tr>
                    <th>Дата</th>
                    <th>Авто</th>
                    <th>Часы</th>
                </tr>
            </thead>
            <tbody id="saved-hours-table-body"></tbody>
        </table>
    </div>

    <div class="fab-container">
        <button class="fab-main" onclick="toggleFabMenu()">
            <svg width="24" height="24" viewBox="0 0 24 24">
                <path d="M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"/>
            </svg>
        </button>
    
    <div class="fab-menu hidden">
        <button class="fab-item" onclick="exportFullHistory('csv')">
            <svg width="20" height="20" viewBox="0 0 24 24">
                <path d="M14 2H6c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V8l-6-6zm-3 18c-2.2 0-4-1.8-4-4s1.8-4 4-4 4 1.8 4 4-1.8 4-4 4zm3-9V3.5L18.5 9H14z"/>
            </svg>
            CSV
        </button>
        <button class="fab-item" onclick="exportFullHistory('json')">
            <svg width="20" height="20" viewBox="0 0 24 24">
                <path d="M14 2H6c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V8l-6-6zm-2 16c-1.4 0-2.8-.5-3.9-1.3l1.4-1.4c.6.4 1.3.7 2.5.7 1 0 1.6-.3 1.6-.8 0-.4-.5-.7-1.3-1l-1.1-.5c-1.3-.5-2.1-1.4-2.1-2.6 0-1.6 1.4-2.6 3-2.6 1.2 0 2.1.3 2.7.6l-1.3 1.5c-.4-.2-.9-.4-1.4-.4-1 0-1.5.4-1.5.8 0 .4.5.7 1.3 1l1.1.5c1.4.6 2.1 1.5 2.1 2.7 0 1.7-1.3 2.7-3.2 2.7z"/>
            </svg>
            JSON
        </button>
    </div>
    </div>
</div>

<script src="script.js"></script>
</body>
</html>